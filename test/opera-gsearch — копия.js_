'use strict';

const {By, until} = require('selenium-webdriver');
const test = require('./..');

test.suite(function( env ){
	let driver = null;
	before(() => driver = env.driver );

	test.describe('Google Search suite', function() {

		test.it('works with promises', () =>
			driver.get('http://www.google.com/ncr')
				.then(_ => driver.findElement({name: 'q'}).clear())
				.then(_ => driver.findElement({name: 'q'}).sendKeys('webdriver'))
				.then(_ => driver.findElement({name: 'btnG'}).click())
				.then(_ => driver.wait(until.titleIs('webdriver - Google Search'), 1000))
		);

		test.it('works with generators', function*() {
			yield driver.get('http://www.google.com/ncr');
			yield driver.findElement(By.name('q')).clear();
			yield driver.findElement(By.name('q')).sendKeys('webdriver');
			yield driver.findElement(By.name('btnG')).click();
			yield driver.wait(until.titleIs('webdriver - Google Search'), 1000);
		});

	});
}, {
	//integrity: false
});

test.suite(function( env ){
	let driver = null;
	before(() => driver = env.driver );

	test.describe('Google Search', function() {

		test.it('works with promises', () =>
			driver.get('http://www.google.com/ncr')
				.then(_ => driver.findElement(By.name('q')).clear())
				.then(_ => driver.findElement(By.name('q')).sendKeys('webdriver'))
				.then(_ => driver.findElement(By.name('btnG')).click())
				.then(_ => driver.wait(until.titleIs('webdriver - Google Search'), 1000))
		);

		test.it('works with generators', function*() {
			yield driver.get('http://www.google.com/ncr');
			yield driver.findElement(By.name('q')).clear();
			yield driver.findElement(By.name('q')).sendKeys('webdriver');
			yield driver.findElement(By.name('btnG')).click();
			yield driver.wait(until.titleIs('webdriver - Google Search'), 1000);
		});

	});
}, {
	//integrity: true
});

